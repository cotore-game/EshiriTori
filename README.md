# EshiriTori
Digital picture word chain Unity project to be exhibited at the school festival.

-----
# デジタル絵しりとり

## 企画概要

学園祭の来場者が**iPadで絵を描き、それがリアルタイムで展示PCの画面に映し出される**参加型展示です。皆で描いた絵が次々と連なり、一つの物語を作り出します。専門知識がない方でもすぐに参加でき、会場全体を巻き込む楽しい企画を目指します。

-----

## 技術構成と仕組み

このシステムは、Web、サーバー、そしてUnityの3つの部分で構成されています。

### 1\. iPadで絵を描く（Web）

  * **技術**: **HTML5 `<canvas>`** + **JavaScript**
  * **仕組み**: iPadのSafariでWebページを開くと、画面に描画用の白いキャンバスが表示されます。指で触ると線が描け、タッチ操作だけで直感的に絵を描けます。

### 2\. 絵をサーバーに送る（Web & サーバー）

  * **技術**: **`fetch()` API** + **Node.js** + **Express**
  * **仕組み**: 「送る」ボタンを押すと、描いた絵のデータが、会場内のWi-Fiネットワークを通じてPCに送られます。PC上で動いているサーバーは、この絵を受け取って画像ファイルとして保存します。

### 3\. 展示PCに絵を表示する（Unity）

  * **技術**: **UnityWebRequest** (C\#)
  * **仕組み**: 展示PCで実行しているUnityアプリは、サーバーに新規の絵があるかを定期的に問い合わせています。新しい絵が見つかると、それをダウンロードして画面に表示します。その後、自動的にスライドショーが始まり、みんなの描いた絵が次々と流れていきます。

この一連の流れをローカルネットワーク内で完結させることで、インターネット接続がない環境でも問題なく動作します。

-----

## プロジェクトの起動方法

### 準備

1.  このプロジェクトのフォルダをPCに用意します。
2.  WindowsであればWSL2のターミナルを開き、フォルダに移動します。
3.  以下のコマンドで、必要なツールをインストールします。（初回のみ）
    ```bash
    npm install
    ```

### サーバーの起動

1.  以下のコマンドでサーバーを起動します。
    ```bash
    node server.js
    ```
    `Server is running at http://localhost:3000` と表示されれば成功です。
2.  iPadからPCのローカルIPアドレス（例: `192.168.1.14`）を使って、`http://<PCのIPアドレス>:3000/`にアクセスします。

### Unityのセットアップ

1.  Unityの`ImageDisplayManager.cs`スクリプトにある\*\*`serverIp`\*\*変数を、PCのローカルIPアドレスに設定します。
2.  「Player Settings」で「Allow Downloads over HTTP」にチェックを入れます。
3.  Unityのシーンを再生すると、サーバーから絵を取得して表示し始めます。
